<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Money Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel (allows JSX in browser) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-gray-100">
  <div id="root"></div>

  <script type="text/babel">

    const { useState, useEffect } = React;

    function MoneyTracker() {
      const [transactions, setTransactions] = useState([]);
      const [budget, setBudget] = useState(0);

      const [form, setForm] = useState({
        amount: '',
        note: '',
        date: new Date().toISOString().split('T')[0]
      });

      useEffect(() => {
        const saved = localStorage.getItem("transactions");
        const savedBudget = localStorage.getItem("budget");
        if (saved) setTransactions(JSON.parse(saved));
        if (savedBudget) setBudget(Number(savedBudget));
      }, []);

      useEffect(() => {
        localStorage.setItem("transactions", JSON.stringify(transactions));
      }, [transactions]);

      useEffect(() => {
        localStorage.setItem("budget", budget);
      }, [budget]);

      const total = transactions.reduce((s, t) => s + t.amount, 0);

      function addTransaction() {
        if (!form.amount) return;
        setTransactions([
          { id: Date.now(), amount: Number(form.amount), ...form },
          ...transactions
        ]);
        setForm({ amount: '', note: '', date: form.date });
      }

      return (
        <div className="max-w-md mx-auto p-4">
          <h1 className="text-2xl font-bold mb-4 text-indigo-600">
            ðŸ’° Money Tracker
          </h1>

          <div className="bg-white p-4 rounded-lg shadow mb-4">
            <label className="block text-sm mb-1">Monthly Budget</label>
            <input
              type="number"
              value={budget}
              onChange={e => setBudget(Number(e.target.value))}
              className="w-full border p-2 rounded"
            />
          </div>

          <div className="bg-white p-4 rounded-lg shadow mb-4">
            <p className="font-semibold">Spent: à¸¿{total}</p>
            <p className="text-sm text-gray-500">
              Remaining: à¸¿{budget - total}
            </p>
          </div>

          <div className="bg-white p-4 rounded-lg shadow mb-4">
            <input
              type="number"
              placeholder="Amount"
              value={form.amount}
              onChange={e => setForm({ ...form, amount: e.target.value })}
              className="w-full border p-2 rounded mb-2"
            />
            <input
              type="text"
              placeholder="Note"
              value={form.note}
              onChange={e => setForm({ ...form, note: e.target.value })}
              className="w-full border p-2 rounded mb-2"
            />
            <button
              onClick={addTransaction}
              className="w-full bg-indigo-600 text-white p-2 rounded"
            >
              Add
            </button>
          </div>

          <div className="space-y-2">
            {transactions.map(t => (
              <div key={t.id} className="bg-white p-3 rounded shadow flex justify-between">
                <span>{t.note || "Expense"}</span>
                <span className="font-bold">à¸¿{t.amount}</span>
              </div>
            ))}
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<MoneyTracker />);

  </script>
</body>
</html>
